{% extends "main/base.html" %}
{% load static %}

{% block css %}
  <link rel="stylesheet" href="{% static "main/css/normalize.css" %}">
  <link rel="stylesheet" href="{% static "main/css/base.css" %}">
  <link rel="stylesheet" href="{% static "main/css/auth.css" %}">
{% endblock css %}

{% block script %}
  <script src="{% static "main/js/base.js" %}"></script>
  <script src="{% static "main/js/auth.js" %}"></script>
{% endblock script %}

{% block header_nav %}
  <nav>
    <ul>
      <li><a href="{% url "mainPage" %}">Главная</a></li>
      <li><a href="{% url "filmsPage" %}">Фильмы</a></li>
      <li><a href="{% url "serialsPage" %}">Сериалы</a></li>
      <li><a href="{% url "actorsPage" %}">Актеры</a></li>
      {% if request.user.is_superuser %}
      <li><a href="{% url "adminPanel" %}">Админ панель</a></li>
      {% endif %}
    </ul>
  </nav>
{% endblock header_nav %}

{% block sidebar_nav %}
  <nav>
    <ul>
      <li><a href="{% url "mainPage" %}">Главная</a></li>
      <li><a href="{% url "filmsPage" %}">Фильмы</a></li>
      <li><a href="{% url "serialsPage" %}">Сериалы</a></li>
      <li><a href="{% url "actorsPage" %}">Актеры</a></li>
      {% if request.user.is_superuser %}
      <li><a href="{% url "adminPanel" %}">Админ панель</a></li>
      {% endif %}
    </ul>
  </nav>
{% endblock sidebar_nav %}

{% block auth_header_profile_url %}
  <a href="{% url "profilePage" %}">
    <div class="profile-block">
      <span>{{username}}</span>
      <div class="profile-icon">
        <i class="fa-solid fa-circle-user"></i>
      </div>
    </div>
  </a>
{% endblock auth_header_profile_url %}

{% block not_auth_header_profile_url %}
  <a class="auth-btn" href="{% url "mainPage" %}">На главную</a>
{% endblock not_auth_header_profile_url %}

{% block auth_sidebar_profile_url %}
  <a href="{% url "profilePage" %}">
    <div class="profile-block">
      <span>{{username}}</span>
      <div class="profile-icon">
        <i class="fa-solid fa-circle-user"></i>
      </div>
    </div>
  </a>
{% endblock auth_sidebar_profile_url %}

{% block not_auth_sidebar_profile_url %}
  <a class="auth-btn" href="{% url "mainPage" %}">На главную</a>
{% endblock not_auth_sidebar_profile_url %}

{% block main_content %}
  <div class="auth-container">
      <div class="auth-card">
          <div class="auth-header">
              <h1 class="auth-title">Вход в аккаунт</h1>
              <p>{{error_message}}</p>
              <p class="auth-subtitle">Введите свои данные для входа в систему</p>
          </div>
          
          <form class="auth-form" id="loginForm" action="{% url 'authPage' %}" method="post">
            {% csrf_token %}
              <div class="form-group">
                  <label for="username" class="form-label">Никнейм</label>
                  <input name="username" type="text" id="username" class="form-input" placeholder="User13920" required>
              </div>
              
              <div class="form-group">
                  <label for="password" class="form-label">Пароль</label>
                  <div class="password-container">
                      <input type="password" name="password" id="password" class="form-input" placeholder="Введите пароль" required>
                      <button type="button" class="toggle-password" id="togglePassword">
                          <i class="far fa-eye"></i>
                      </button>
                  </div>
              </div>
              
              <div class="remember-forgot">
                  <label class="remember-me">
                      <input type="checkbox" id="remember">
                      Запомнить меня
                  </label>
                  <a href="#" class="forgot-password">Забыли пароль?</a>
              </div>
              
              <button type="submit" class="submit-btn">Войти</button>
          </form>
          
          <div class="auth-divider">
              <span>или войдите с помощью</span>
          </div>
          
          <div class="social-auth">
              <button class="social-btn google">
                  <i class="fab fa-google"></i>
                  Войти через Google
              </button>
          </div>
          
          <div class="auth-footer">
              <p>Еще нет аккаунта? <a href="{% url "regPage" %}">Зарегистрироваться</a></p>
          </div>
      </div>
  </div>
{% endblock main_content %}